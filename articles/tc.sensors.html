<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>tc.sensors • tc.sensors</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/simplex/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="tc.sensors">
<meta property="og:description" content="tc.sensors">
<meta property="og:image" content="https://github.com/Metropolitan-Council/tc.sensors/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">tc.sensors</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/calculate_speed_delay.html">Calculate speed and delay</a>
    </li>
    <li>
      <a href="../articles/pulling_sensors_in_parallel.html">Pull multiple sensors using parallel processing</a>
    </li>
    <li>
      <a href="../articles/tc.sensors.html">tc.sensors</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/Metropolitan-Council/tc.sensors/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>tc.sensors</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/Metropolitan-Council/tc.sensors/blob/HEAD/vignettes/tc.sensors.Rmd"><code>vignettes/tc.sensors.Rmd</code></a></small>
      <div class="hidden name"><code>tc.sensors.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">tc.sensors</span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p><code>{tc.sensors}</code> is an R package for processing data
collected from Minnesota Department of Transportation (MnDOT) loop
detectors installed on the Minnesota Freeway system in 30-second
interval measurements of occupancy and volume, data which are pushed
daily to a public JSON feed. Occupancy and volume data can be used to
calculate speed and delay.</p>
</div>
<div class="section level2">
<h2 id="primary-terms-and-definitions">Primary terms and definitions<a class="anchor" aria-label="anchor" href="#primary-terms-and-definitions"></a>
</h2>
<p>Raw data is accessed at the sensor level. Sensors are generally
spaced in half mile intervals along a corridor.</p>
<div class="section level3">
<h3 id="volume">Volume<a class="anchor" aria-label="anchor" href="#volume"></a>
</h3>
<p>Volume represents the number of vehicles that pass through a detector
in a given time period. Flow represents the number of vehicles that pass
through a detector per hour
(<code>Volume * Samples per Hour</code>).</p>
</div>
<div class="section level3">
<h3 id="occupancy">Occupancy<a class="anchor" aria-label="anchor" href="#occupancy"></a>
</h3>
<p>The term ‘occupancy’ does not here refer to the occupants of a
vehicle but rather the occupancy of the sensor, or how long the sensor
was ‘occupied’. In a 30-second time period, 1800 scans are produced (60
per second), and each scan is binary: either the sensor is occupied or
not. Therefore, a sensor occupied for 1 second within the 30-second time
period would have a value of 60. Raw occupancy values can be converted
to percentages:</p>
<p><span class="math display">\[\frac{Occupancy}{1800}*100% \]</span>
The resulting percentage is the percentage of time in that 30 seconds
that the sensor was ‘occupied’.</p>
</div>
<div class="section level3">
<h3 id="interpolating-null-values">Interpolating null values<a class="anchor" aria-label="anchor" href="#interpolating-null-values"></a>
</h3>
<p>Where nulls exist (vs. a zero measurement), it is assumed the
connection was disrupted and no measurement was taken. For 15-minute
intervals where other values exist, the nulls are interpolated with the
<strong>average</strong> of the other values within the interval.
Impossible values are also interpolated with the mean of the interval.
Impossible values are raw occupancy values greater than 1800 (given that
only 1800 scans are taken in a 30-second period). If an entire interval
contains only nulls, it is converted to ‘NA’ and no values within the
interval are interpolated.</p>
<p>Note that a variable is created containing the percentage of
nulls/impossible values in that interval; therefore, one can choose to
exclude intervals with interpolation rates above a certain threshold of
choice (eg if more than, say, 30% of the data is missing).</p>
</div>
</div>
<div class="section level2">
<h2 id="calculations">Calculations<a class="anchor" aria-label="anchor" href="#calculations"></a>
</h2>
<p>Calculations for speed, flow, headway, density and lost/spare
capacity must be conducted for a given time aggregation. Common time
intervals include 10, 15, and 30 minutes, hourly, peak traffic periods,
and daily.</p>
<div class="section level3">
<h3 id="density">Density<a class="anchor" aria-label="anchor" href="#density"></a>
</h3>
<p>The number of vehicles per mile (<code>Flow / Speed</code>). See <a href="http://data.dot.state.mn.us/datatools/Density.html" class="external-link">full
calculation method</a> for additional context.</p>
</div>
<div class="section level3">
<h3 id="speed">Speed<a class="anchor" aria-label="anchor" href="#speed"></a>
</h3>
<p>Speed is calculated</p>
<p><span class="math display">\[\frac{Vehicles Per Hour*Vehicle
Length}{5280*Occupancy Percentage} \]</span></p>
<p>or</p>
<p><span class="math display">\[\frac{Flow}{Density} \]</span></p>
<p>‘Vehicles Per Hour’ is calculated by summing all the vehicles over
the 15-minute interval, and then multiplying that by four. ‘Vehicle
Length’ is a static field in the sensor configuration dataset.
‘Occupancy Percentage’ is calculated by summing all the occupancy values
over the 15-minute interval, and then dividing by 54,000 (1,800 scans in
30 seconds*30 periods in 15-minute interval).</p>
</div>
<div class="section level3">
<h3 id="lost-or-spare-capacity">Lost or Spare Capacity<a class="anchor" aria-label="anchor" href="#lost-or-spare-capacity"></a>
</h3>
<p>The average flow that a roadway is losing, either due to low traffic
or high congestion, throughout the sampling period.</p>
</div>
<div class="section level3">
<h3 id="vehicle-miles-traveled-vmt">Vehicle Miles Traveled (VMT)<a class="anchor" aria-label="anchor" href="#vehicle-miles-traveled-vmt"></a>
</h3>
</div>
</div>
<div class="section level2">
<h2 id="additional-documentation">Additional documentation<a class="anchor" aria-label="anchor" href="#additional-documentation"></a>
</h2>
<p>The Regional Traffic Management Center (RTMC) maintains the
Intelligent Roadway Information System (IRIS) with an <a href="https://github.com/mnit-rtmc/iris" class="external-link">open-source repository on
GitHub</a>. IRIS <a href="https://mnit-rtmc.github.io/iris/index.html" class="external-link">documentation</a> is
served from the GitHub repo, as well.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Liz Roten, Nicole Sullivan.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
